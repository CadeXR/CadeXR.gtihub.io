(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7654:function(e,t,r){Promise.resolve().then(r.bind(r,6293))},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"usePathname")&&r.d(t,{usePathname:function(){return n.usePathname}}),r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},6293:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return c}});var n=r(7437),i=r(2265),a=r(2455);function l(e){let{score:t,isVisible:r=!1}=e;return r?(0,n.jsxs)("div",{"data-frosted-box":"score",className:" fixed left-4 top-1/2 transform -translate-y-1/2  bg-[rgba(255,255,255,0.1)] backdrop-blur-[10px] rounded-xl p-6  border border-[rgba(255,255,255,0.2)] text-white min-w-[120px] text-center ",style:{zIndex:50,WebkitBackdropFilter:"blur(10px)"},children:[(0,n.jsx)("div",{className:"text-lg font-semibold mb-2",children:"Score"}),(0,n.jsx)("div",{className:"text-3xl font-bold",children:t.toLocaleString()})]}):null}function o(e){let{onScoreChange:t}=e,r=(0,i.useRef)(null),o=(0,i.useRef)([]),s=(0,i.useRef)([]),c=(0,i.useRef)([]),u=(0,i.useRef)({x:0,y:0}),h=(0,i.useRef)({x:0,y:0}),d=(0,i.useRef)(),x=(0,i.useRef)(0),[b,m]=(0,i.useState)(0),f=(0,i.useRef)({x:0,y:0}),y=(0,i.useRef)(Date.now()),g=(0,i.useRef)(0);(0,i.useRef)(0),(0,i.useRef)(0),(0,i.useRef)(1);let v=(0,i.useRef)({x:0,y:0}),M=(0,i.useRef)([]),[p,w]=(0,i.useState)(!1);(0,i.useEffect)(()=>{let e=setInterval(()=>{m(x.current)},100);return()=>clearInterval(e)},[]);let k=(0,i.useCallback)(e=>{o.current=Array.from({length:50},(t,r)=>({x:Math.random()*e.width,y:Math.random()*e.height,vx:0,vy:0,size:6,orbitAngle:2*Math.PI*r/50,orbitSpeed:.05*(.8+.4*Math.random()),orbitTransition:1}))},[]),P=(0,i.useCallback)(e=>{let t={x:Math.random()*e.width,y:0,size:15,vy:1+.5*Math.random(),trail:[]};s.current.push(t)},[]),I=(0,i.useCallback)((e,t)=>{let r=[];for(let n=0;n<15;n++){let i=2*Math.PI*n/15,a=2+2*Math.random();r.push({x:e,y:t,vx:Math.cos(i)*a,vy:Math.sin(i)*a,size:4.800000000000001,orbitAngle:Math.random()*Math.PI*2,orbitSpeed:.05,orbitTransition:0})}return r},[]),S=(0,i.useCallback)(()=>{let e={x:v.current.x,y:v.current.y,vx:8*Math.cos(g.current),vy:8*Math.sin(g.current),size:6,isProjectile:!0,orbitAngle:Math.random()*Math.PI*2,orbitSpeed:.05,orbitTransition:0};c.current.push(e)},[]),T=(0,i.useCallback)(e=>{M.current=Array.from({length:200},()=>({x:Math.random()*e.width,y:Math.random()*e.height,speed:2*(.5+Math.random()),trail:[]}))},[]),E=(0,i.useCallback)(e=>{let r=e.getContext("2d");if(!r)return;let n=Date.now();y.current,y.current=n,r.fillStyle="black",r.fillRect(0,0,e.width,e.height);let i=u.current.x-h.current.x,a=u.current.y-h.current.y;f.current.x=.7*f.current.x+.3*i,f.current.y=.7*f.current.y+.3*a;let l=Math.sqrt(f.current.x*f.current.x+f.current.y*f.current.y),d=Math.min(l/10,1);if(l>.1){let e=Math.atan2(f.current.y,f.current.x)-g.current;e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),g.current+=.15*d*e}g.current>Math.PI&&(g.current-=2*Math.PI),g.current<-Math.PI&&(g.current+=2*Math.PI),h.current={x:u.current.x,y:u.current.y},v.current={x:u.current.x,y:u.current.y};let b=120*(.3+.7*d);r.beginPath(),r.moveTo(v.current.x,v.current.y),r.lineTo(v.current.x+Math.cos(g.current)*b,v.current.y+Math.sin(g.current)*b),r.strokeStyle="rgba(255, 255, 255, 0.2)",r.lineWidth=6,r.stroke(),r.beginPath(),r.moveTo(v.current.x,v.current.y),r.lineTo(v.current.x+Math.cos(g.current)*b,v.current.y+Math.sin(g.current)*b),r.strokeStyle="white",r.lineWidth=2,r.stroke();let m=10*(.5+.5*d),p=v.current.x+Math.cos(g.current)*b,w=v.current.y+Math.sin(g.current)*b;r.beginPath(),r.moveTo(p-Math.cos(g.current+.8*Math.PI)*(m+2),w-Math.sin(g.current+.8*Math.PI)*(m+2)),r.lineTo(p,w),r.lineTo(p-Math.cos(g.current-.8*Math.PI)*(m+2),w-Math.sin(g.current-.8*Math.PI)*(m+2)),r.strokeStyle="rgba(255, 255, 255, 0.08)",r.lineWidth=4,r.stroke(),r.beginPath(),r.moveTo(p-Math.cos(g.current+.8*Math.PI)*m,w-Math.sin(g.current+.8*Math.PI)*m),r.lineTo(p,w),r.lineTo(p-Math.cos(g.current-.8*Math.PI)*m,w-Math.sin(g.current-.8*Math.PI)*m),r.strokeStyle="white",r.lineWidth=2,r.stroke(),o.current.forEach(e=>{if(e.orbitTransition<1){e.orbitTransition+=.002;let t=u.current.x+20*Math.cos(e.orbitAngle),r=u.current.y+20*Math.sin(e.orbitAngle),n=t-e.x,i=r-e.y,a=.01*e.orbitTransition;e.vx=e.vx*(1-a)+n*a,e.vy=e.vy*(1-a)+i*a,e.x+=e.vx,e.y+=e.vy}else e.orbitAngle+=e.orbitSpeed,e.x=u.current.x+20*Math.cos(e.orbitAngle),e.y=u.current.y+20*Math.sin(e.orbitAngle);e.orbitTransition<1&&(e.orbitAngle+=e.orbitSpeed*e.orbitTransition);let t=e.size*(1+.5*e.orbitTransition);r.beginPath(),r.arc(e.x,e.y,t,0,2*Math.PI);let n=.3+.7*e.orbitTransition;r.fillStyle="rgba(255, 255, 255, ".concat(n,")"),r.fill()}),M.current.forEach(t=>{t.x+=t.speed,t.y+=t.speed,t.trail.push({x:t.x,y:t.y}),t.trail.length>15&&t.trail.shift(),(t.x>e.width||t.y>e.height)&&(.5>Math.random()?(t.x=Math.random()*e.width,t.y=0):(t.x=0,t.y=Math.random()*e.height),t.trail=[]),t.trail.length>1&&(r.beginPath(),r.moveTo(t.trail[0].x,t.trail[0].y),t.trail.forEach((e,t)=>{0!==t&&r.lineTo(e.x,e.y)}),r.strokeStyle="rgba(147, 51, 234, 0.15)",r.lineWidth=1,r.stroke()),r.beginPath(),r.arc(t.x,t.y,2,0,2*Math.PI),r.fillStyle="rgba(147, 51, 234, 0.3)",r.fill()}),s.current=s.current.filter(t=>{t.y+=t.vy,t.trail.push({x:t.x,y:t.y}),t.trail.length>2500&&t.trail.shift(),t.trail.length>1&&(r.beginPath(),r.moveTo(t.trail[0].x,t.trail[0].y),t.trail.forEach((e,n)=>{if(0===n)return;let i=n/t.trail.length*.8;r.strokeStyle="rgba(255, 102, 0, ".concat(i,")"),r.lineWidth=2,r.beginPath(),r.moveTo(t.trail[n-1].x,t.trail[n-1].y),r.lineTo(e.x,e.y),r.stroke()})),r.beginPath(),r.arc(t.x,t.y,t.size,0,2*Math.PI),r.fillStyle="#ff6600",r.fill();let n=r.createRadialGradient(t.x,t.y,t.size,t.x,t.y,3*t.size);return n.addColorStop(0,"rgba(255, 102, 0, 0.4)"),n.addColorStop(1,"rgba(255, 102, 0, 0)"),r.beginPath(),r.arc(t.x,t.y,3*t.size,0,2*Math.PI),r.fillStyle=n,r.fill(),t.y<e.height+t.size}),c.current=c.current.filter(n=>(n.x+=n.vx,n.y+=n.vy,s.current=s.current.filter(e=>{let r=n.x-e.x,i=n.y-e.y;if(Math.sqrt(r*r+i*i)<e.size+n.size){let r=I(e.x,e.y);return o.current.push(...r),x.current+=100,null==t||t(x.current),!1}return!0}),r.beginPath(),r.arc(n.x,n.y,n.size,0,2*Math.PI),r.fillStyle="white",r.fill(),n.x>0&&n.x<e.width&&n.y>0&&n.y<e.height))},[I]),C=(0,i.useCallback)(()=>{let e=r.current;e&&(E(e),d.current=requestAnimationFrame(C))},[E]);return(0,i.useEffect)(()=>{let e=r.current;if(!e)return;let t=()=>{e.width=window.innerWidth,e.height=window.innerHeight,k(e),T(e)};t();let n=e=>{u.current={x:e.clientX,y:e.clientY}},i=()=>{S()},a=setInterval(()=>{P(e)},1e3);return d.current=requestAnimationFrame(C),window.addEventListener("mousemove",n),window.addEventListener("click",i),window.addEventListener("resize",t),()=>{d.current&&cancelAnimationFrame(d.current),clearInterval(a),window.removeEventListener("mousemove",n),window.removeEventListener("click",i),window.removeEventListener("resize",t)}},[C,k,P,S,T]),(0,i.useEffect)(()=>{if(!r.current)return;let e=e=>{u.current={x:e.clientX,y:e.clientY}};return h.current=u.current,window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{}),(0,n.jsx)(l,{score:b,isVisible:p}),(0,n.jsx)("canvas",{ref:r,className:"fixed top-0 left-0 w-full h-full bg-black",style:{zIndex:-1}})]})}var s=r(7648);function c(){let[e,t]=(0,i.useState)(0);return(0,n.jsxs)("main",{className:"relative min-h-screen",children:[(0,n.jsx)(o,{onScoreChange:t}),(0,n.jsx)("div",{className:"fixed top-0 left-0 w-full p-4",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,n.jsx)(s.default,{href:"/activities",className:"px-4 py-2 rounded-lg bg-white/10 backdrop-blur-sm  hover:bg-white/20 transition-all duration-300",children:"← Back to Games"}),(0,n.jsxs)("div",{className:"px-6 py-2 rounded-lg bg-white/10 backdrop-blur-sm",children:["Score: ",e]})]})}),(0,n.jsxs)("div",{className:"fixed bottom-4 left-4 p-4 rounded-lg bg-white/10 backdrop-blur-sm",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Controls"}),(0,n.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,n.jsx)("li",{children:"Move mouse to control particles"}),(0,n.jsx)("li",{children:"Click to shoot in movement direction"}),(0,n.jsx)("li",{children:"Destroy red enemies to score points"})]})]})]})}},2455:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),i=r(9376),a=r(2265),l=r(7235),o=r.n(l);function s(){let e=(0,i.useRouter)(),t=(0,i.usePathname)(),[r,l]=(0,a.useState)(!1),s=(0,a.useRef)(null),c=(0,a.useCallback)(()=>{let e=s.current;if(!e)return;let t=e.getBoundingClientRect(),n=new CustomEvent("windowUpdate",{detail:{id:"backbutton",bounds:{left:t.left,right:t.right,top:t.top,bottom:t.bottom,isActive:r}}}),i=document.querySelector("canvas[data-scene]");null==i||i.dispatchEvent(n)},[r]);return(0,a.useEffect)(()=>{c()},[r,c]),(0,a.useEffect)(()=>(window.addEventListener("resize",c),()=>window.removeEventListener("resize",c)),[c]),(0,n.jsx)("div",{"data-frosted-box":"backbutton",style:{position:"fixed",top:"1rem",left:"1rem",zIndex:50,padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.2)",height:"48px",width:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("button",{ref:s,onClick:()=>{let r=document.createElement("div");r.className="scene-transition-grow",document.body.appendChild(r);let n=document.querySelector("canvas[data-scene]");null==n||n.dispatchEvent(new CustomEvent("startTransition",{detail:{direction:"grow"}})),setTimeout(()=>{"/home/"===t?e.push("/"):e.push("/home/");let n=document.createElement("div");n.className="scene-transition-shrink",document.body.appendChild(n),setTimeout(()=>{r.remove(),n.remove()},500)},3500)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)",l(!0)},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",l(!1)},className:o().className,style:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",width:"40px",height:"40px",borderRadius:"0.5rem",cursor:"pointer",border:"1px solid rgba(255, 255, 255, 0.4)",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"←"})})}}},function(e){e.O(0,[265,618,971,117,744],function(){return e(e.s=7654)}),_N_E=e.O()}]);