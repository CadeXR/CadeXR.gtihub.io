(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[565],{7654:function(e,t,r){Promise.resolve().then(r.bind(r,2477))},9376:function(e,t,r){"use strict";var n=r(5475);r.o(n,"useRouter")&&r.d(t,{useRouter:function(){return n.useRouter}})},2477:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return s}});var n=r(7437),i=r(2265),a=r(2455);function o(e){let{onScoreChange:t}=e,r=(0,i.useRef)(null),o=(0,i.useRef)([]),l=(0,i.useRef)([]),s=(0,i.useRef)([]),c=(0,i.useRef)({x:0,y:0}),u=(0,i.useRef)({x:0,y:0}),h=(0,i.useRef)(),d=(0,i.useRef)(0),x=(0,i.useRef)({x:0,y:0}),f=(0,i.useRef)(Date.now()),m=(0,i.useRef)(0);(0,i.useRef)(0),(0,i.useRef)(0),(0,i.useRef)(1);let y=(0,i.useRef)({x:0,y:0}),b=(0,i.useRef)([]),g=(0,i.useCallback)(e=>{o.current=Array.from({length:50},(t,r)=>({x:Math.random()*e.width,y:Math.random()*e.height,vx:0,vy:0,size:6,orbitAngle:2*Math.PI*r/50,orbitSpeed:.05*(.8+.4*Math.random()),orbitTransition:1}))},[]),v=(0,i.useCallback)(e=>{let t={x:Math.random()*e.width,y:0,size:15,vy:1+.5*Math.random(),trail:[]};l.current.push(t)},[]),M=(0,i.useCallback)((e,t)=>{let r=[];for(let n=0;n<15;n++){let i=2*Math.PI*n/15,a=2+2*Math.random();r.push({x:e,y:t,vx:Math.cos(i)*a,vy:Math.sin(i)*a,size:4.800000000000001,orbitAngle:Math.random()*Math.PI*2,orbitSpeed:.05,orbitTransition:0})}return r},[]),p=(0,i.useCallback)(()=>{let e={x:y.current.x,y:y.current.y,vx:8*Math.cos(m.current),vy:8*Math.sin(m.current),size:6,isProjectile:!0,orbitAngle:Math.random()*Math.PI*2,orbitSpeed:.05,orbitTransition:0};s.current.push(e)},[]),w=(0,i.useCallback)(e=>{b.current=Array.from({length:200},()=>({x:Math.random()*e.width,y:Math.random()*e.height,speed:2*(.5+Math.random()),trail:[]}))},[]),k=(0,i.useCallback)(e=>{let r=e.getContext("2d");if(!r)return;let n=Date.now();f.current,f.current=n,r.fillStyle="black",r.fillRect(0,0,e.width,e.height);let i=c.current.x-u.current.x,a=c.current.y-u.current.y;x.current.x=.7*x.current.x+.3*i,x.current.y=.7*x.current.y+.3*a;let h=Math.sqrt(x.current.x*x.current.x+x.current.y*x.current.y),g=Math.min(h/10,1);if(h>.1){let e=Math.atan2(x.current.y,x.current.x)-m.current;e>Math.PI&&(e-=2*Math.PI),e<-Math.PI&&(e+=2*Math.PI),m.current+=.15*g*e}m.current>Math.PI&&(m.current-=2*Math.PI),m.current<-Math.PI&&(m.current+=2*Math.PI),u.current={x:c.current.x,y:c.current.y},y.current={x:c.current.x,y:c.current.y};let v=120*(.3+.7*g);r.beginPath(),r.moveTo(y.current.x,y.current.y),r.lineTo(y.current.x+Math.cos(m.current)*v,y.current.y+Math.sin(m.current)*v),r.strokeStyle="rgba(255, 255, 255, 0.2)",r.lineWidth=6,r.stroke(),r.beginPath(),r.moveTo(y.current.x,y.current.y),r.lineTo(y.current.x+Math.cos(m.current)*v,y.current.y+Math.sin(m.current)*v),r.strokeStyle="white",r.lineWidth=2,r.stroke();let p=10*(.5+.5*g),w=y.current.x+Math.cos(m.current)*v,k=y.current.y+Math.sin(m.current)*v;r.beginPath(),r.moveTo(w-Math.cos(m.current+.8*Math.PI)*(p+2),k-Math.sin(m.current+.8*Math.PI)*(p+2)),r.lineTo(w,k),r.lineTo(w-Math.cos(m.current-.8*Math.PI)*(p+2),k-Math.sin(m.current-.8*Math.PI)*(p+2)),r.strokeStyle="rgba(255, 255, 255, 0.2)",r.lineWidth=4,r.stroke(),r.beginPath(),r.moveTo(w-Math.cos(m.current+.8*Math.PI)*p,k-Math.sin(m.current+.8*Math.PI)*p),r.lineTo(w,k),r.lineTo(w-Math.cos(m.current-.8*Math.PI)*p,k-Math.sin(m.current-.8*Math.PI)*p),r.strokeStyle="white",r.lineWidth=2,r.stroke(),o.current.forEach(e=>{if(e.orbitTransition<1){e.orbitTransition+=.002;let t=c.current.x+20*Math.cos(e.orbitAngle),r=c.current.y+20*Math.sin(e.orbitAngle),n=t-e.x,i=r-e.y,a=.01*e.orbitTransition;e.vx=e.vx*(1-a)+n*a,e.vy=e.vy*(1-a)+i*a,e.x+=e.vx,e.y+=e.vy}else e.orbitAngle+=e.orbitSpeed,e.x=c.current.x+20*Math.cos(e.orbitAngle),e.y=c.current.y+20*Math.sin(e.orbitAngle);e.orbitTransition<1&&(e.orbitAngle+=e.orbitSpeed*e.orbitTransition);let t=e.size*(1+.5*e.orbitTransition);r.beginPath(),r.arc(e.x,e.y,t,0,2*Math.PI);let n=.3+.7*e.orbitTransition;r.fillStyle="rgba(255, 255, 255, ".concat(n,")"),r.fill()}),b.current.forEach(t=>{t.x+=t.speed,t.y+=t.speed,t.trail.push({x:t.x,y:t.y}),t.trail.length>15&&t.trail.shift(),(t.x>e.width||t.y>e.height)&&(.5>Math.random()?(t.x=Math.random()*e.width,t.y=0):(t.x=0,t.y=Math.random()*e.height),t.trail=[]),t.trail.length>1&&(r.beginPath(),r.moveTo(t.trail[0].x,t.trail[0].y),t.trail.forEach((e,t)=>{0!==t&&r.lineTo(e.x,e.y)}),r.strokeStyle="rgba(147, 51, 234, 0.15)",r.lineWidth=1,r.stroke()),r.beginPath(),r.arc(t.x,t.y,2,0,2*Math.PI),r.fillStyle="rgba(147, 51, 234, 0.3)",r.fill()}),l.current=l.current.filter(t=>{t.y+=t.vy,t.trail.push({x:t.x,y:t.y}),t.trail.length>2500&&t.trail.shift(),t.trail.length>1&&(r.beginPath(),r.moveTo(t.trail[0].x,t.trail[0].y),t.trail.forEach((e,n)=>{if(0===n)return;let i=n/t.trail.length*.8;r.strokeStyle="rgba(255, 102, 0, ".concat(i,")"),r.lineWidth=2,r.beginPath(),r.moveTo(t.trail[n-1].x,t.trail[n-1].y),r.lineTo(e.x,e.y),r.stroke()})),r.beginPath(),r.arc(t.x,t.y,t.size,0,2*Math.PI),r.fillStyle="#ff6600",r.fill();let n=r.createRadialGradient(t.x,t.y,t.size,t.x,t.y,3*t.size);return n.addColorStop(0,"rgba(255, 102, 0, 0.4)"),n.addColorStop(1,"rgba(255, 102, 0, 0)"),r.beginPath(),r.arc(t.x,t.y,3*t.size,0,2*Math.PI),r.fillStyle=n,r.fill(),t.y<e.height+t.size}),s.current=s.current.filter(n=>(n.x+=n.vx,n.y+=n.vy,l.current=l.current.filter(e=>{let r=n.x-e.x,i=n.y-e.y;if(Math.sqrt(r*r+i*i)<e.size+n.size){let r=M(e.x,e.y);return o.current.push(...r),d.current+=100,null==t||t(d.current),!1}return!0}),r.beginPath(),r.arc(n.x,n.y,n.size,0,2*Math.PI),r.fillStyle="white",r.fill(),n.x>0&&n.x<e.width&&n.y>0&&n.y<e.height))},[M]),P=(0,i.useCallback)(()=>{let e=r.current;e&&(k(e),h.current=requestAnimationFrame(P))},[k]);return(0,i.useEffect)(()=>{let e=r.current;if(!e)return;let t=()=>{e.width=window.innerWidth,e.height=window.innerHeight,g(e),w(e)};t();let n=e=>{c.current={x:e.clientX,y:e.clientY}},i=()=>{p()},a=setInterval(()=>{v(e)},1e3);return h.current=requestAnimationFrame(P),window.addEventListener("mousemove",n),window.addEventListener("click",i),window.addEventListener("resize",t),()=>{h.current&&cancelAnimationFrame(h.current),clearInterval(a),window.removeEventListener("mousemove",n),window.removeEventListener("click",i),window.removeEventListener("resize",t)}},[P,g,v,p,w]),(0,i.useEffect)(()=>{if(!r.current)return;let e=e=>{c.current={x:e.clientX,y:e.clientY}};return u.current=c.current,window.addEventListener("mousemove",e),()=>window.removeEventListener("mousemove",e)},[]),(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.Z,{}),(0,n.jsx)("canvas",{ref:r,className:"fixed top-0 left-0 w-full h-full -z-10"})]})}var l=r(7648);function s(){let[e,t]=(0,i.useState)(0);return(0,n.jsxs)("main",{className:"relative min-h-screen",children:[(0,n.jsx)(o,{onScoreChange:t}),(0,n.jsx)("div",{className:"fixed top-0 left-0 w-full p-4",children:(0,n.jsxs)("div",{className:"max-w-7xl mx-auto flex justify-between items-center",children:[(0,n.jsx)(l.default,{href:"/activities",className:"px-4 py-2 rounded-lg bg-white/10 backdrop-blur-sm  hover:bg-white/20 transition-all duration-300",children:"← Back to Games"}),(0,n.jsxs)("div",{className:"px-6 py-2 rounded-lg bg-white/10 backdrop-blur-sm",children:["Score: ",e]})]})}),(0,n.jsxs)("div",{className:"fixed bottom-4 left-4 p-4 rounded-lg bg-white/10 backdrop-blur-sm",children:[(0,n.jsx)("h3",{className:"font-semibold mb-2",children:"Controls"}),(0,n.jsxs)("ul",{className:"text-sm space-y-1",children:[(0,n.jsx)("li",{children:"Move mouse to control particles"}),(0,n.jsx)("li",{children:"Click to shoot in movement direction"}),(0,n.jsx)("li",{children:"Destroy red enemies to score points"})]})]})]})}},2455:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(7437),i=r(9376),a=r(2265),o=r(7235),l=r.n(o);function s(){let e=(0,i.useRouter)(),[t,r]=(0,a.useState)(!1),o=(0,a.useRef)(null),s=(0,a.useCallback)(()=>{let e=o.current;if(!e)return;let r=e.getBoundingClientRect(),n=new CustomEvent("windowUpdate",{detail:{id:"backbutton",bounds:{left:r.left,right:r.right,top:r.top,bottom:r.bottom,isActive:t}}}),i=document.querySelector("canvas[data-scene]");null==i||i.dispatchEvent(n)},[t]);return(0,a.useEffect)(()=>{s()},[t,s]),(0,a.useEffect)(()=>(window.addEventListener("resize",s),()=>window.removeEventListener("resize",s)),[s]),(0,n.jsx)("div",{"data-frosted-box":"backbutton",style:{position:"fixed",top:"1rem",left:"1rem",zIndex:50,padding:"0.5rem",backgroundColor:"rgba(255, 255, 255, 0.1)",backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)",borderRadius:"0.75rem",border:"1px solid rgba(255, 255, 255, 0.2)",height:"48px",width:"48px",display:"flex",alignItems:"center",justifyContent:"center"},children:(0,n.jsx)("button",{ref:o,onClick:()=>{let t=document.createElement("div");t.className="scene-transition-grow",document.body.appendChild(t);let r=document.querySelector("canvas[data-scene]");null==r||r.dispatchEvent(new CustomEvent("startTransition",{detail:{direction:"shrink"}})),setTimeout(()=>{e.push("/home");let r=document.createElement("div");r.className="scene-transition-shrink",document.body.appendChild(r),setTimeout(()=>{t.remove(),r.remove()},500)},3500)},onMouseEnter:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.3)",r(!0)},onMouseLeave:e=>{e.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.2)",r(!1)},className:l().className,style:{backgroundColor:"rgba(255, 255, 255, 0.2)",color:"white",width:"40px",height:"40px",borderRadius:"0.5rem",cursor:"pointer",border:"1px solid rgba(255, 255, 255, 0.4)",fontSize:"1.25rem",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease"},children:"←"})})}}},function(e){e.O(0,[265,618,971,117,744],function(){return e(e.s=7654)}),_N_E=e.O()}]);